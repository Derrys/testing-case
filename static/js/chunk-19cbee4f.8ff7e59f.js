(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-19cbee4f"],{"07ea":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-main",[a("el-card",{staticClass:"msg-card"},[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v("消息管理")])]),a("el-radio-group",{on:{change:e.setDataFilter},model:{value:e.msgType,callback:function(t){e.msgType=t},expression:"msgType"}},[a("el-radio-button",{attrs:{label:"all"}},[e._v("全部")]),a("el-radio-button",{attrs:{label:"unread"}},[e._v("未读")]),a("el-radio-button",{attrs:{label:"readed"}},[e._v("已读")])],1),a("el-button-group",{staticStyle:{float:"right"}},[a("el-button",{attrs:{icon:"el-icon-folder",disabled:0===e.selectedData.length},nativeOn:{click:function(t){return e.readMsg(t)}}},[e._v("标记已读")]),a("el-button",{attrs:{icon:"el-icon-delete",disabled:0===e.selectedData.length},nativeOn:{click:function(t){return e.deleteMsg(t)}}},[e._v("删除")]),a("el-button",{attrs:{icon:"el-icon-folder-opened"},nativeOn:{click:function(t){return e.readAllMsg(t)}}},[e._v("全部已读")]),a("el-button",{attrs:{icon:"el-icon-delete-solid"},nativeOn:{click:function(t){return e.deleteAllMsg(t)}}},[e._v("全部删除")])],1),a("vxe-table",{ref:"msgTable",staticClass:"msg-table",attrs:{border:"",data:e.showTableData,"checkbox-config":{trigger:"cell"},"expand-config":{trigger:"cell",showIcon:!1,accordion:!0}},on:{"toggle-row-expand":e.showContent,"checkbox-all":e.selectChangeEvent,"checkbox-change":e.selectChangeEvent}},[a("vxe-table-column",{attrs:{type:"checkbox",width:"60"}}),a("vxe-table-column",{attrs:{type:"expand",title:"标题内容"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.row;return[a("el-badge",{staticClass:"title-row",attrs:{"is-dot":!0,hidden:"readed"===s.status}},[e._v(" "+e._s(s.title)+" ")])]}},{key:"content",fn:function(t){var a=t.row;return[e._v(" "+e._s(a.content)+" ")]}}])}),a("vxe-table-column",{attrs:{field:"date",title:"时间",width:"200"}}),a("vxe-table-column",{attrs:{field:"status",title:"状态",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(e._f("statusTransferFilter")(a.status))+" ")]}}])})],1),e.total?a("vxe-pager",{attrs:{background:"",size:"small","current-page":e.currentPage,"page-size":e.pageSize,"page-sizes":[5,10,20,50,100],total:e.total,layouts:["PrevPage","JumpNumber","NextPage","FullJump","Sizes","Total"]},on:{"page-change":e.changePage}}):e._e()],1)],1)},l=[],n={name:"MessageManagement",components:{},data(){return{msgType:"all",msgData:[],showTableData:[],selectedData:[],pageSize:10,currentPage:1,total:0}},filters:{statusTransferFilter(e){const t={unread:"未读",readed:"已读"};return t[e]}},created(){this.loadData()},methods:{loadData(){console.log("一页数量：",this.pageSize),console.log("当前页：",this.currentPage),setTimeout(()=>{this.msgData=[{id:1,title:"你的<档案标题名字>已经借阅提交成功！",content:"这是一段内容文本...!!!",date:"2020-3-2",status:"unread"},{id:2,title:"你的<档案标题名字>已经借阅提交成功！",content:"这是一段内容文本...!!!",date:"2020-3-2",status:"unread"},{id:3,title:"你的<档案标题名字>已经借阅提交成功！",content:"这是一段内容文本...!!!",date:"2020-3-2",status:"unread"},{id:4,title:"你的<档案标题名字>已经借阅提交成功！",content:"这是一段内容文本...!!!",date:"2020-3-2",status:"readed"},{id:5,title:"你的<档案标题名字>已经借阅提交成功！",content:"这是一段内容文本...!!!",date:"2020-3-2",status:"readed"},{id:6,title:"你的<档案标题名字>已经借阅提交成功！",content:"这是一段内容文本...!!!",date:"2020-3-2",status:"readed"}],this.setDataFilter()},1e3)},setDataFilter(){this.showTableData=[...this.msgData.filter(e=>"all"===this.msgType||e.status===this.msgType)],this.total=this.showTableData.length},selectChangeEvent(e){this.selectedData=[...e.records]},showContent(e){!0===e.expanded&&(console.log("展开行: ",e),"unread"===e.row.status&&(e.row.status="readed"))},readMsg(){console.log("已读内容为: ",this.selectedData)},readAllMsg(){console.log("全部已读: ",this.msgData)},deleteMsg(){console.log("删除内容为: ",this.selectedData)},deleteAllMsg(){console.log("全部删除: ",this.msgData)},changePage({currentPage:e,pageSize:t}){this.currentPage=e,this.pageSize=t,this.loadData()}}},o=n,r=(a("6392"),a("2877")),i=Object(r["a"])(o,s,l,!1,null,"47ebec57",null);t["default"]=i.exports},1682:function(e,t,a){},6392:function(e,t,a){"use strict";a("1682")}}]);